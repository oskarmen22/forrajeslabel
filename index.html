<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forrajes Label v01</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .label-canvas { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); border: 1px solid #e5e7eb; background: white; margin: 0 auto; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- CONFIGURACIÓN FIREBASE (forrajeslabel) ---
        const firebaseConfig = { 
            apiKey: "AIzaSyBFsPNR_MlgYp00Wu3UQTtYmrGc9P2B0JM", 
            authDomain: "forrajeslabel.firebaseapp.com", 
            projectId: "forrajeslabel", 
            storageBucket: "forrajeslabel.firebasestorage.app", 
            messagingSenderId: "285841575830", 
            appId: "1:285841575830:web:79c6ac47fe8c44569297b7", 
            measurementId: "G-HHV6KS7XXE" 
        };

        // Inicializar Firebase (Usando sintaxis compat para CDN)
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }

        const auth = firebase.auth();
        const db = firebase.firestore();
        const appId = 'forrajes-v01';

        // --- ICONOS (Definidos manualmente para evitar errores de librería externa) ---
        const Icon = ({ children, size = 24, className = "" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round"
                className={className}
            >
                {children}
            </svg>
        );

        const Printer = (props) => <Icon {...props}><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></Icon>;
        const Settings = (props) => <Icon {...props}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></Icon>;
        const LogOut = (props) => <Icon {...props}><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></Icon>;
        const History = (props) => <Icon {...props}><path d="M3 3v5h5"></path><path d="M3.05 13A9 9 0 1 0 6 5.3L3 8"></path><path d="M12 7v5l4 2"></path></Icon>;
        const Bluetooth = (props) => <Icon {...props}><polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline></Icon>;
        const Layout = (props) => <Icon {...props}><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></Icon>;
        const Plus = (props) => <Icon {...props}><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></Icon>;
        const Trash2 = (props) => <Icon {...props}><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></Icon>;
        const Wifi = (props) => <Icon {...props}><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></Icon>;

        // --- COMPONENTES ---

        const { useState, useEffect, useRef } = React;
        
        // Login Component
        const Login = ({ onLogin }) => {
            const [isRegister, setIsRegister] = useState(false);
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');

            const handleAuth = async (e) => {
                e.preventDefault();
                setError('');
                if (!auth) {
                    // Modo Demo si no hay firebase
                    onLogin({ uid: 'demo-user', email: email || 'demo@test.com' });
                    return;
                }
                try {
                    let userCred;
                    if (isRegister) {
                        userCred = await auth.createUserWithEmailAndPassword(email, password);
                    } else {
                        userCred = await auth.signInWithEmailAndPassword(email, password);
                    }
                    onLogin(userCred.user);
                } catch (err) {
                    setError(err.message);
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center bg-gray-900 p-4">
                    <div className="bg-white p-8 rounded-xl shadow-2xl w-full max-w-md">
                        <h1 className="text-3xl font-bold text-center text-green-700 mb-2">Forrajes Label <span className="text-xs text-gray-400">v01</span></h1>
                        <p className="text-center text-gray-500 mb-6">Gestión de Etiquetas e Impresión</p>
                        
                        {error && <div className="bg-red-100 text-red-700 p-3 rounded mb-4 text-sm">{error}</div>}
                        
                        <form onSubmit={handleAuth} className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700">Correo Electrónico</label>
                                <input type="email" required className="mt-1 block w-full border border-gray-300 rounded-md p-2" value={email} onChange={e => setEmail(e.target.value)} />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700">Contraseña</label>
                                <input type="password" required className="mt-1 block w-full border border-gray-300 rounded-md p-2" value={password} onChange={e => setPassword(e.target.value)} />
                            </div>
                            <button type="submit" className="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition font-semibold">
                                {isRegister ? 'Crear Cuenta' : 'Iniciar Sesión'}
                            </button>
                        </form>
                        <button onClick={() => setIsRegister(!isRegister)} className="mt-4 w-full text-sm text-green-600 hover:underline">
                            {isRegister ? '¿Ya tienes cuenta? Inicia sesión' : '¿No tienes cuenta? Regístrate'}
                        </button>
                    </div>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [user, setUser] = useState(null);
            const [view, setView] = useState('designer'); // designer, history, settings
            const [loading, setLoading] = useState(true);

            // Estado de Etiqueta
            const [labelConfig, setLabelConfig] = useState({
                width: 50, // mm
                height: 30, // mm
                orientation: 'horizontal', // horizontal, vertical
                quantity: 1
            });
            const [elements, setElements] = useState([
                { id: 1, type: 'text', content: 'MAIZ QUEBRADO', x: 5, y: 10, size: 14, bold: true },
                { id: 2, type: 'text', content: '$ 250.00', x: 5, y: 20, size: 12, bold: false }
            ]);

            // Estado para Bluetooth (Provisioning)
            const [btDevice, setBtDevice] = useState(null);
            const [wifiSSID, setWifiSSID] = useState('');
            const [wifiPass, setWifiPass] = useState('');
            const [connectionStatus, setConnectionStatus] = useState('Desconectado');

            useEffect(() => {
                if (auth) {
                    const unsub = auth.onAuthStateChanged((u) => {
                        setUser(u);
                        setLoading(false);
                    });
                    return () => unsub();
                } else {
                    setLoading(false);
                }
            }, []);

            // --- Lógica del Canvas ---
            const canvasRef = useRef(null);

            useEffect(() => {
                if (view === 'designer' && canvasRef.current) {
                    drawLabel();
                }
            }, [labelConfig, elements, view]);

            const drawLabel = () => {
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                // Conversión aproximada: 1mm = 3.78px (a 96 DPI) - Usaremos un factor de escala para visualización
                const scale = 8; 
                
                const w = labelConfig.orientation === 'horizontal' ? labelConfig.width : labelConfig.height;
                const h = labelConfig.orientation === 'horizontal' ? labelConfig.height : labelConfig.width;

                canvas.width = w * scale;
                canvas.height = h * scale;
                
                // Fondo
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Borde guía
                ctx.strokeStyle = '#ddd';
                ctx.lineWidth = 1;
                ctx.strokeRect(0, 0, canvas.width, canvas.height);

                // Elementos
                ctx.fillStyle = '#000000';
                elements.forEach(el => {
                    ctx.font = `${el.bold ? 'bold' : ''} ${el.size * (scale/3)}px Arial`; // Ajuste visual de fuente
                    ctx.fillText(el.content, el.x * scale, el.y * scale);
                });
            };

            // --- Lógica de Impresión (Guardar en Firebase) ---
            const handlePrint = async () => {
                if (!db || !user) {
                    alert("Modo Demo: Impresión simulada.");
                    return;
                }

                const printJob = {
                    userId: user.uid,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    labelConfig,
                    elements,
                    status: 'pending' // ESP32 debería escuchar esto
                };

                try {
                    // 1. Guardar Historial
                    await db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('history').add(printJob);
                    
                    // 2. Enviar a Cola de Impresión (Global o por Dispositivo)
                    // Aquí asumimos una cola simple que el ESP32 escucha
                    await db.collection('artifacts').doc(appId).collection('public').collection('print_queue').add(printJob);

                    alert(`¡Enviado! ${labelConfig.quantity} etiquetas en cola.`);
                } catch (e) {
                    console.error(e);
                    alert("Error al enviar impresión.");
                }
            };

            // --- Lógica Bluetooth (Provisioning ESP32) ---
            const connectBluetooth = async () => {
                try {
                    // UUIDs de ejemplo para el servicio de provisioning (debe coincidir con el código ESP32)
                    const SERVICE_UUID = "4fafc201-1fb5-459e-8fcc-c5c9c331914b";
                    
                    const device = await navigator.bluetooth.requestDevice({
                        filters: [{ namePrefix: 'ESP32_Label' }],
                        optionalServices: [SERVICE_UUID]
                    });

                    const server = await device.gatt.connect();
                    setBtDevice(device);
                    setConnectionStatus('Conectado a ESP32');
                    alert("Conectado al ESP32. Ahora puedes enviar la configuración WiFi.");
                } catch (error) {
                    console.error(error);
                    alert("Error Bluetooth: " + error.message);
                }
            };

            const sendWifiConfig = async () => {
                if (!btDevice || !btDevice.gatt.connected) {
                    alert("Primero conecta el ESP32 por Bluetooth.");
                    return;
                }
                // Lógica simulada de escritura en característica BLE
                // En una app real, escribirías en una característica específica
                setConnectionStatus(`Enviando WiFi: ${wifiSSID}...`);
                setTimeout(() => {
                    setConnectionStatus('Configuración enviada. El ESP32 se reiniciará.');
                    btDevice.gatt.disconnect();
                    setBtDevice(null);
                }, 2000);
            };

            if (loading) return <div className="h-screen flex items-center justify-center">Cargando...</div>;
            if (!user) return <Login onLogin={setUser} />;

            return (
                <div className="min-h-screen flex flex-col md:flex-row">
                    {/* Sidebar */}
                    <aside className="bg-gray-900 text-white w-full md:w-64 flex-shrink-0">
                        <div className="p-6">
                            <h2 className="text-xl font-bold flex items-center gap-2">
                                <Printer size={24} className="text-green-500"/> Forrajes v01
                            </h2>
                            <p className="text-xs text-gray-400 mt-1">{user.email}</p>
                        </div>
                        <nav className="mt-6">
                            <button onClick={() => setView('designer')} className={`w-full text-left px-6 py-3 flex items-center gap-3 hover:bg-gray-800 ${view === 'designer' ? 'bg-gray-800 border-l-4 border-green-500' : ''}`}>
                                <Layout size={20} /> Diseñador
                            </button>
                            <button onClick={() => setView('history')} className={`w-full text-left px-6 py-3 flex items-center gap-3 hover:bg-gray-800 ${view === 'history' ? 'bg-gray-800 border-l-4 border-green-500' : ''}`}>
                                <History size={20} /> Historial
                            </button>
                            <button onClick={() => setView('settings')} className={`w-full text-left px-6 py-3 flex items-center gap-3 hover:bg-gray-800 ${view === 'settings' ? 'bg-gray-800 border-l-4 border-green-500' : ''}`}>
                                <Settings size={20} /> Configurar ESP32
                            </button>
                            <button onClick={() => auth ? auth.signOut() : setUser(null)} className="w-full text-left px-6 py-3 flex items-center gap-3 hover:bg-gray-800 text-red-400 mt-auto">
                                <LogOut size={20} /> Cerrar Sesión
                            </button>
                        </nav>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 p-4 md:p-8 overflow-y-auto">
                        
                        {/* VIEW: DESIGNER */}
                        {view === 'designer' && (
                            <div className="max-w-4xl mx-auto">
                                <header className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold text-gray-800">Nueva Etiqueta</h2>
                                    <button onClick={handlePrint} className="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 font-bold shadow-lg transform active:scale-95 transition">
                                        <Printer size={20} /> IMPRIMIR TIRAJE
                                    </button>
                                </header>

                                <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                    {/* Controles */}
                                    <div className="lg:col-span-1 space-y-6">
                                        <div className="bg-white p-5 rounded-lg shadow-sm border border-gray-200">
                                            <h3 className="font-semibold text-gray-700 mb-4 border-b pb-2">Dimensiones</h3>
                                            <div className="grid grid-cols-2 gap-4 mb-4">
                                                <div>
                                                    <label className="text-xs text-gray-500">Ancho (mm)</label>
                                                    <input type="number" className="w-full p-2 border rounded" value={labelConfig.width} onChange={e => setLabelConfig({...labelConfig, width: parseInt(e.target.value)})} />
                                                </div>
                                                <div>
                                                    <label className="text-xs text-gray-500">Alto (mm)</label>
                                                    <input type="number" className="w-full p-2 border rounded" value={labelConfig.height} onChange={e => setLabelConfig({...labelConfig, height: parseInt(e.target.value)})} />
                                                </div>
                                            </div>
                                            <div className="mb-4">
                                                <label className="text-xs text-gray-500">Orientación</label>
                                                <select className="w-full p-2 border rounded" value={labelConfig.orientation} onChange={e => setLabelConfig({...labelConfig, orientation: e.target.value})}>
                                                    <option value="horizontal">Horizontal</option>
                                                    <option value="vertical">Vertical</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="text-xs text-gray-500 font-bold">Cantidad a Imprimir</label>
                                                <input type="number" min="1" className="w-full p-2 border border-green-300 bg-green-50 rounded font-bold text-lg" value={labelConfig.quantity} onChange={e => setLabelConfig({...labelConfig, quantity: parseInt(e.target.value)})} />
                                            </div>
                                        </div>

                                        <div className="bg-white p-5 rounded-lg shadow-sm border border-gray-200">
                                            <h3 className="font-semibold text-gray-700 mb-4 border-b pb-2 flex justify-between">
                                                Elementos
                                                <button onClick={() => setElements([...elements, { id: Date.now(), type: 'text', content: 'Nuevo Texto', x: 10, y: 10, size: 12, bold: false }])} className="text-green-600 hover:text-green-800">
                                                    <Plus size={18} />
                                                </button>
                                            </h3>
                                            <div className="space-y-3 max-h-64 overflow-y-auto">
                                                {elements.map((el, idx) => (
                                                    <div key={el.id} className="bg-gray-50 p-3 rounded border text-sm relative group">
                                                        <div className="grid grid-cols-2 gap-2 mb-2">
                                                            <input type="text" className="col-span-2 p-1 border rounded" value={el.content} onChange={(e) => {
                                                                const newEls = [...elements]; newEls[idx].content = e.target.value; setElements(newEls);
                                                            }} />
                                                            <input type="number" placeholder="X" className="p-1 border rounded" value={el.x} onChange={(e) => {
                                                                const newEls = [...elements]; newEls[idx].x = parseInt(e.target.value); setElements(newEls);
                                                            }} />
                                                            <input type="number" placeholder="Y" className="p-1 border rounded" value={el.y} onChange={(e) => {
                                                                const newEls = [...elements]; newEls[idx].y = parseInt(e.target.value); setElements(newEls);
                                                            }} />
                                                        </div>
                                                        <button onClick={() => setElements(elements.filter(x => x.id !== el.id))} className="absolute top-2 right-2 text-red-400 hover:text-red-600">
                                                            <Trash2 size={14} />
                                                        </button>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>

                                    {/* Preview Canvas */}
                                    <div className="lg:col-span-2 bg-gray-200 rounded-xl flex items-center justify-center p-8 overflow-auto border-4 border-dashed border-gray-300">
                                        <canvas ref={canvasRef} className="label-canvas" />
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* VIEW: HISTORY */}
                        {view === 'history' && (
                            <div className="max-w-4xl mx-auto">
                                <h2 className="text-2xl font-bold text-gray-800 mb-6">Historial de Impresiones</h2>
                                <HistoryList db={db} appId={appId} userId={user.uid} />
                            </div>
                        )}

                        {/* VIEW: SETTINGS (WIFI/BLE) */}
                        {view === 'settings' && (
                            <div className="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-sm border">
                                <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                                    <Wifi className="text-blue-500" /> Conexión ESP32
                                </h2>
                                
                                <div className="space-y-6">
                                    <div className="bg-blue-50 p-4 rounded-lg text-sm text-blue-800">
                                        <strong>Instrucciones:</strong>
                                        <ol className="list-decimal ml-4 mt-2 space-y-1">
                                            <li>Presiona el botón en el ESP32 (Pin D23) para entrar en modo configuración.</li>
                                            <li>Haz clic en "Buscar ESP32" abajo.</li>
                                            <li>Ingresa tu red WiFi y contraseña para que el ESP32 se conecte a Firebase.</li>
                                        </ol>
                                    </div>

                                    <div className="flex items-center gap-4">
                                        <button onClick={connectBluetooth} className={`px-4 py-2 rounded font-semibold ${btDevice ? 'bg-green-100 text-green-700' : 'bg-blue-600 text-white'}`}>
                                            {btDevice ? 'ESP32 Conectado' : 'Buscar ESP32 (Bluetooth)'}
                                        </button>
                                        <span className="text-sm text-gray-500">{connectionStatus}</span>
                                    </div>

                                    {btDevice && (
                                        <div className="space-y-4 pt-4 border-t">
                                            <div>
                                                <label className="block text-sm font-medium">Nombre de Red (SSID)</label>
                                                <input type="text" className="w-full p-2 border rounded mt-1" value={wifiSSID} onChange={e => setWifiSSID(e.target.value)} placeholder="Ej: MiCasa_2.4G" />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium">Contraseña WiFi</label>
                                                <input type="password" className="w-full p-2 border rounded mt-1" value={wifiPass} onChange={e => setWifiPass(e.target.value)} />
                                            </div>
                                            <button onClick={sendWifiConfig} className="w-full bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700">
                                                Enviar WiFi al ESP32
                                            </button>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        const HistoryList = ({ db, appId, userId }) => {
            const [history, setHistory] = useState([]);
            
            useEffect(() => {
                if (!db) return;
                const unsub = db.collection('artifacts').doc(appId).collection('users').doc(userId).collection('history')
                    .orderBy('timestamp', 'desc')
                    .limit(20)
                    .onSnapshot(snap => {
                        const data = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                        setHistory(data);
                    });
                return () => unsub();
            }, [db, appId, userId]);

            if (history.length === 0) return <p className="text-gray-500">No hay registros aún.</p>;

            return (
                <div className="bg-white shadow rounded-lg overflow-hidden">
                    <table className="min-w-full divide-y divide-gray-200">
                        <thead className="bg-gray-50">
                            <tr>
                                <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Fecha</th>
                                <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Detalle</th>
                                <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cant.</th>
                                <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estado</th>
                            </tr>
                        </thead>
                        <tbody className="bg-white divide-y divide-gray-200">
                            {history.map(item => (
                                <tr key={item.id}>
                                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                        {item.timestamp?.toDate().toLocaleString()}
                                    </td>
                                    <td className="px-6 py-4 text-sm text-gray-900">
                                        {item.elements[0]?.content || 'Etiqueta Genérica'} ({item.labelConfig.width}x{item.labelConfig.height}mm)
                                    </td>
                                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold">
                                        {item.labelConfig.quantity}
                                    </td>
                                    <td className="px-6 py-4 whitespace-nowrap text-sm">
                                        <span className="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                            {item.status || 'Enviado'}
                                        </span>
                                    </td>
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
